# Плагины HENTA
> [Найти стандартные плагины и их документацию можно здесь](https://github.com/StandardHentaPlugins/)
Любой бот в HENTA строится из плагинов точно так же, как любое другое приложение основывается на классах.

> Если вы ищете инструкцию создания плагина или его установку, то вам нужна документация по [pluginService](pluginService.md)

## Категории плагинов
* common - плагины, которые подходят к большинству ботов и являются общими.
* systems - полноценные системы или ветвления в вашем боте (работы, кланы, питомцы, и.т.д.)
* bot - конкретные плагины под вашего бота (приветствие, игровой элемент, ватермарки)

## Как запускаются плагины
1) Все плагины загружаются и для них вызывается конструкор с единственным параметром: henta.
2) Для всех плагинов вызывается функция preInit(henta). Она нужна для того, чтобы плагин инициализировал важные элементы, которые будут использоваться в других плагинах во время их инициализации. (плагин common/db прединициализирует подключение к базе данных, чтобы другие плагины могли определять свои модели во время инициализации).
3) Для всех плагинов вызывается функция init(henta). В ней нужно инициализировать ресурсы, загрузить настройки и загрузить прочие элементы для работы плагина.
4) Для всех плагинов вызывается функция start(henta). В ней нужно запускать операцию, которую обычно делает плагин. Обычно это какой-нибудь запуск интервала или нечто подобное.

Каждый шаг вызывается последовательно, а функции внутри движка одновременно (асинхронно). Поэтому вы не можете угадать во время инициализации своего плагина, инициализирован ли другой.
Для каждого плагина вычисляется время, потраченно на какой-либо шаг (кроме constructor). Если в плагине нет функции, то тогда движок пропустит её для этого плагина.

Получить время, затраченное на выполнение шага можно так:
```js
const myPluginInfo = henta.plugins.getInfo('bot/myplugin');
console.log(`Время прединициализации: ${myPluginInfo['duration:preInit'] || 'нет'}`);
console.log(`Время инициализации: ${myPluginInfo['duration:init'] || 'нет'}`);
console.log(`Время запуска: ${myPluginInfo['duration:start'] || 'нет'}`);
```

## Где найти плагины
Стандартные плагины от разработчиков HENTA можно найти в репозитории [StandardHentaPlugins](https://github.com/StandardHentaPlugins/).
Также плагинами можно обмениваться в сообществе пользователей HENTA или разработать их самому, это не сложно.